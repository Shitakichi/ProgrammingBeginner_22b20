# 概要と目的
- 算術演算について学ぶ
- 変数の宣言、代入、参照について学ぶ
- 代入演算子について学ぶ

# 2-1.C言語での演算処理
## (1) 算術演算
前回は、`printf()`関数を用いて、様々な処理をしてみました。その中でC言語を用いれば、簡単な計算が出来ることがわかりました。そこで、ここでは、C言語を用いた計算について学んでいくことにしましょう。

プログラミングの世界では、こういった計算のことを、専門用語で演算（えんざん）と呼びます。以下、簡単な演算のプログラムをみてみることにしましょう。

以下のプログラムを入力&実行してみてください。

```c
/* sample1.c */
#include <stdio.h>
/*
    演算子を用いた計算のプログラム
*/
int main(void){
    // 各種演算
    printf("%d + %d = %d\n",5,2,5+2);                   // 足し算
    printf("%d - %d = %d\n",5,2,5-2);                   // 引き算
    printf("%d * %d = %d\n",5,2,5*2);                   // 掛け算
    printf("%d / %d = %d 余り %d\n",5,2,5/2, 5 % 2);    // 割り算  
    return 0;
}
```

```sh
# 実行結果
5 + 2 = 7
5 - 2 = 3
5 * 2 = 10
5 / 2 = 2 余り 1
```

実行結果からもわかるとおり、このプログラムを実行すると、様々な計算結果が出てきます。

演算にはさまざまな種類がありますが、ここでは最も単純な算術演算（さんじゅつえんざん）を行っています。

算術演算とは私たちが日常的に行っている加減乗除といった計算のことです。演算にはこのほかにも様々な種類がありますが、ここでは一番単純な例として算術演算をとりあげています。

## (2) 演算子
演算を行う記号のことを演算子(えんざんし)と呼びます。足し算の`+`や、引き算の`-`はわかるものの、その他の記号は何でしょう？C言語で使用する演算子は以下のようなものがあります。

| 演算子 | 読み方       | 意味                                 | 使用例 |
| :----- | :----------- | :----------------------------------- | :----- |
| +      | プラス       | 足し算を行う演算子                   | 5 + 5  |
| -      | マイナス     | 引き算を行う演算子                   | 7 - 3  |
| *      | アスタリスク | 掛け算を行う演算子                   | 7 * 3  |
| /      | スラッシュ   | 割り算を行う演算子                   | 7 / 3  |
| %      | パーセント   | 剰余（じょうよ）演算子。割り算の余り | 7 % 3  |

この表から`*`が乗算、`/`が除算を表す記号であることがわかると思います。また剰余、つまり割り算の余りを表す`%`の記号はC言語のプログラミングでは使用頻度が高いので、覚えておきましょう。

## (3) 演算の優先順位
計算の優先順位を変更するには`()`を使用する必要があります。`1 + 2 * 3`の結果は`7`になりますが、括弧を使い`(1 + 2) * 3`とすると結果は`9`となります。

このように、C言語にも、数学と同じような演算子の優先順位があります。C言語には様々な演算があるため、ここでは全てを説明するのは省略しますが、加減乗除といった基本的な数値計算に関しては、数学と同じルールに従うと思ってほぼ間違いありません。

## (4) コメント
ところで、このプログラムの中に、出てくる`//`や、`/*  */`という記号が出てきます。しかも、その中には、文章が書いていますが、プログラムの実行結果には何も関係ないように見えます。この記号のことを、コメントと言います。

コメントはプログラムの注釈を付けるためのもので、プログラムの各所に書いて処理の意味などを記述する時に用いられます。実行結果には何ら影響を与えませんが、これを付けるとプログラムが非常にわかりやすくなります。

そのためプログラマーは、出来るだけ過不足なくコメントをつけるようにすることが勧められています。

# 2-2.変数
## (1) 変数とは何か
C言語で様々な演算ができることはすでにわかりました。しかし、これでは決められた値の計算しかできません。実際は色々な数値を用いて計算することが想定されるためこれでは不便です。このように値が定まった数のことを、定数（ていすう）と言います。

それに対し、値を変えることができる数を変数（へんすう）と言います。変数とは、データを一時的に保存しておくための 「名前のついた箱」 のようなものです。

変数を使う基本的な流れは次の3ステップです。
1. 変数を作る -> 宣言する
2. データを入れる -> 代入する
3. データを使う -> 参照する

以下のサンプルプログラムを実行してみましょう。
```c
/* sample2.c */
#include <stdio.h>

int main(void){
    // 変数の宣言
    int a;

    // 変数の代入
    a = 3;
    // 変数の参照
    printf("a: %d\n", a);

    // 変数の代入
    a = 5;
    // 変数の参照
    printf("a: %d\n", a);
}
```
```sh
# 実行結果
a: 3
a: 5
```

## (2) 宣言
```c
int a;
```

宣言では変数(名前のついた箱)を作成することを示します。宣言する時に、その変数が格納するデータの種類と、変数の名前を付ける必要があります。データの種類には以下の表のようなものがあります。
| データ型 | 説明                            |
| :------- | :------------------------------ |
| char     | １バイトの符号付整数。文字。    |
| int      | 2または4バイトの符号付整数。    |
| float    | 4バイトの単精度浮動小数点実数。 |
| double   | 8バイトの倍精度浮動小数点実数。 |

これらのことから、`int a;`では整数型のデータを格納できる`a`という箱(変数)を作成したことになります。

ここで少し難しいですが、箱はどこに作られているのでしょうか？正解は、メモリ上に作られています。`int a;`と`char b;`, `double c`という変数を宣言した場合、以下の図のようにメモリ上に配置されます。どの位置に配置されるかはコンパイラとOSにより決定されます。

![変数のメモリ配置](./_attachments/変数.drawio.svg)

## (3) 代入
```c
a = 6;
```

変数に値を格納することを代入すると言います。代入先の変数と代入したい値を`=`で結ぶことで、代入することができます。`a=6`とすれば、`a`に`6`を格納することができます。代入したい値が式であれば、式の結果が代入されます。

```c
a = 4*3;
```

## (4) 参照
```c
printf("a: %d\n", a);
```

変数に格納された値を使うことを参照と言います。変数名を指定することで、参照できます。上記のプログラムでは`a`の部分が参照しているといえます。

また変数に代入する時に変数を使用することもできます。例えば以下のようなプログラムであれば、`b`には`6`が格納されます。
```c
int a;
int b;
a = 2;
b = a*3;
```

## (5) 初期化
変数は、宣言時に値を代入（初期化）することが出来ます。記述方法は以下のとおりです。

```c
int a = 6; // 変数の宣言と同時に値を代入（初期化）
```
また、以下のように、,(コンマ)で区切ることにより同時に複数の変数を宣言したり、初期化することも可能です。

```c
int a,b; // 整数型変数a,bの宣言
int a=1,b=2; // 整数型変数a,bを宣言と同時に両方に値を代入（初期化）
int a,b=1; // 整数型変数a,bの宣言と同時にbにのみ値を代入（初期化）
```
なお、プログラミングにおいて、変数は必ず初期化して使うというルールがあります。初期化していない変数を使用すると、プログラムが異常終了することがありますので、気をつけてください。

## (6) 変数のまとめ
ここまで変数の宣言、代入、参照方法について解説してきました。もう一度、sample2.cを見直して、なぜ`3`と`5`が出力されるのか確認しましょう。

また次のsample3.cではどのような出力が得られるか考えてみましょう。

```c
/* sample3.c */
#include <stdio.h>
/*
    演算子を用いた計算のプログラム
*/
int main(void){
	/* 使用する変数の定義 */
	int a;	        // 変数の宣言
	int b = 3;		//	初期化と代入を同時に行う。
	int add,sub;	//	複数の変数を同時に宣言
	double avg;		//	int以外の変数を宣言
	a = 6;	        //	代入（最初に値を入れるので、”初期化”と言う。
	add = a + b;			//	a,bの和を求める。
	sub = a - b;			//	a,bの差を求める。
	avg = (a + b) / 2.0;	//	a,bの平均値を求める。
	printf("%d + %d = %d\n",a,b,add);
	printf("%d - %d = %d\n",a,b,sub);
	printf("%dと%dの平均値：%f\n",a,b,avg);  
    return 0;
}
```

# 2-3.変数の命名規則
## (1) C言語の変数の命名規則
変数の名前は、基本的にプログラマーが自由につけることが許されています。通常、アルファベット一文字か、その組み合わせといったものが使われる場合がほとんどです。しかし、何でも良いというわけではなく、以下のようなルールがあります。
- 使用できる文字は半角の英文字（A～Z，a～z）、数字（0～9）、アンダーバー（_）。
- 変数名の最初の文字を数字にすることは出来ない。
- 英文字の大文字と小文字は別の文字として扱われる。
- 規定されているC言語の予約語を使ってはいけない。

## (2) 予約語
なお、予約語とは言語の仕様で使い方が決められている単語のことで、C言語の予約語は以下のとおりです。

```
auto	double	int	struct
break	else	long	switch
case	enum	register	typedef
char	extern	return	union
const	float	short	unsigned
continue	for	signed	void
default	goto	sizeof	volatile
do	if	static	while
```

# 2-4.代入演算子
## (1) 代入と演算
すでに述べたとおり、変数に値を入れることを代入と言いました。代入を使用すれば、以下のようなプログラムを作成することもできます。(A)ですが、仮に最初の段階で`a`に`1`が入っていたとすると、そこに`1`を足した`2`が`a`に代入されます。(B)についても同様で、`b`に`2`が入っていたら、`2`に`5`をかけた値、つまり`10`が`b`に入ります。

```c
a = a + 1; // (A) aに、a+1の値を代入する。
b = b * 5; // (B) bに、b*5の値を代入する。
```


以下のプログラムを実行してみましょう。

```c
/* samaple4.c */
#include <stdio.h>

int main(void){
    int a1=2,b1=2,c1=2,d1=2;
    a1 = a1 + 1;
    b1 = b1 - 1;
    c1 = c1 * 2;
    d1 = d1 / 2;
    printf("a1=%d b1=%d c1=%d d1=%d\n",a1,b1,c1,d1);
    return 0;
}
```

## (2) 代入演算子
代入先の変数を代入元で使う場合は代入演算子を使用することで、短く記述することが出来ます。

| 演算子 | 使用例 | 意味   |
| :----- | :----- | :----- |
| +=     | a+=1;  | a=a+1; |
| -=     | a-=1;  | a=a-1; |
| *=     | a*=2;  | a=a*2; |
| /=     | a/=2;  | a=a/2; |
| %=     | a%=2;  | a=a%2; |

様々な代入演算子を使用してみましょう。

```c:samaple5.c
#include <stdio.h>
/*
    代入演算子をを用いた計算
*/
int main(void){
    /* 使用する変数の定義 */
    int a1=2,b1=2,c1=2,d1=2;    // 変数の宣言(1)
    int a2=2,b2=2,c2=2,d2=2;    // 変数の宣言(2)
    //  普通の演算による計算と代入
    a1 = a1 + 1;
    b1 = b1 - 1;
    c1 = c1 * 2;
    d1 = d1 / 2;
    //  代入演算による計算
    a2 += 1;
    b2 -= 1;
    c2 *= 2;
    d2 /= 2;    
    printf("a1=%d b1=%d c1=%d d1=%d\n",a1,b1,c1,d1);
    printf("a2=%d b2=%d c2=%d d2=%d\n",a2,b2,c2,d2);  
    return 0;
}
```

以上で、演算と変数に関するお話は終了です。次からは、この変数を用いていろいろな処理を行っていくことにしましょう。
